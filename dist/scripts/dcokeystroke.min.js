(function(){window.DCOKeystroke=function(){function a(a,b){this._element=a,this._delay=b>0?b:500}return a._element=null,a._sentence=null,a._prev_char=null,a._interval=null,a._delay=0,a.prototype.clear=function(){var a;for(a=[];this._element.firstChild;)a.push(this._element.removeChild(this._element.firstChild));return a},a.prototype.stop=function(){return clearInterval(this._interval),this._interval=null,this._buffer=null,this._sentence=null},a.prototype.read=function(){var a,b,c,d;if(b=this._sentence[0],this._sentence.shift(),"\n"===b)this.put("new-line","");else if("\r"===b)this.put("carriage-return","&nbsp;");else if("	"===b)this.put("tab","&nbsp;");else if("\b"===b)this.put("backspace","&nbsp;");else if("["===b&&"\\"!==this._prev_char){for(a="";;)if(d=this._sentence[0],"]"!==d&&(a+=d),this._sentence.shift(),this._sentence.length<=0||"]"===d)break;c=a.replace(" ","_"),this.put(c,c)}else" "===b?this.put("space","&nbsp;"):this.put(b,b);return 0===this._sentence.length&&this.stop(),this._prev_char=b},a.prototype.put=function(a,b){var c,d;return c=document.createElement("span"),c.className="char-"+a,c.innerHTML=b,d=function(){return this.classList.add("ended")},c.addEventListener("animationend",d,!1),c.addEventListener("mozAnimationEnd",d,!1),c.addEventListener("webkitAnimationEnd",d,!1),c.addEventListener("msAnimationEnd",d,!1),this._element.appendChild(c)},a.prototype.type=function(a,b){var c;return this.clear(),this._sentence=a.split(""),c=this.read.bind(this),this._interval=setInterval(c,b>0?b:this._delay)},a}()}).call(this);